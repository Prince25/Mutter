<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: authActions.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: authActions.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import firebase from '../../config/fbConfig'

/** 
 * @method signIn
 * @description Represents our function for signing in through email with Firebase.
 * @param {object} credentials - crendentials for the users who is logging in.
 * @param {string} credentials.email - email of the user logging in.
 * @param {string} credentials.password - password of the user logging in.
 * @returns {null} 
 */


export const signIn = (credentials) => {
  return (dispatch, getState) => {

    // Make async call to database
    firebase.auth().signInWithEmailAndPassword(
      credentials.email,
      credentials.password
    ).then(() => {
        dispatch({type: 'LOGIN_SUCCESS'})
    }).catch((err) => {
        dispatch({type: 'LOGIN_ERROR', err})
    })
  }
}

/** 
 * @method signUp
 * @description Represents our function for signing up through email with Firebase.
 * @param {object} newUser - crendentials for the users who is logging in.
 * @param {string} newUser.name - name of the user who just signed up.
 * @param {string} newUser.email - email of the user who just signed up.
 * @param {string} newUser.password - password of the user who just signed up.
 * @returns {null}
 */

export const signUp = (newUser) => {
  return (dispatch, getState, {getFirestore}) => {

    const firestore = getFirestore()

    firebase.auth().createUserWithEmailAndPassword(
      newUser.email,
      newUser.password
    ).then((resp) => {
      firestore.collection('users').doc(resp.user.uid).set({
        name: newUser.name,
        initials: newUser.name[0]
      })
    }).then(() => {
      dispatch({ type: 'SIGNUP_SUCCESS' })
    }).catch(err => {
      dispatch({ type: 'SIGNUP_ERROR', err})
    })
  }
}

/** 
 * @method signOut
 * @description Represents our function for logging out users.
 * @param {function} dispatch - a function through which Redux dispatches an action.
 * @param {function} getState - a function that returns the current state of the Redux store.
 * @returns {Object}
 */

export const signOut = () => {
  return (dispatch, getState) => {
    firebase.auth().signOut().then(() => {
      dispatch({type: 'SIGNOUT_SUCCESS'})
    })
  }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#signIn">signIn</a></li><li><a href="global.html#signOut">signOut</a></li><li><a href="global.html#signUp">signUp</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Nov 13 2019 13:42:18 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
